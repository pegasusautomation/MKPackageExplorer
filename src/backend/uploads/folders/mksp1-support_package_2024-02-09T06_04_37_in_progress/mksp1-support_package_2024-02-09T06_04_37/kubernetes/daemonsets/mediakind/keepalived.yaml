metadata:
  annotations:
    deprecated.daemonset.template.generation: '1'
    meta.helm.sh/release-name: keepalived
    meta.helm.sh/release-namespace: mediakind
  creationTimestamp: '2023-12-14T06:56:50Z'
  generation: 1
  labels:
    app.kubernetes.io/component: keepalived
    app.kubernetes.io/instance: keepalived
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: keepalived
    app.kubernetes.io/part-of: mkc
    app.kubernetes.io/version: 1.18.0
    helm.sh/chart: keepalived-1.18.0
  managedFields:
  - apiVersion: apps/v1
    fieldsType: FieldsV1
    fieldsV1:
      f:metadata:
        f:annotations:
          .: {}
          f:deprecated.daemonset.template.generation: {}
          f:meta.helm.sh/release-name: {}
          f:meta.helm.sh/release-namespace: {}
        f:labels:
          .: {}
          f:app.kubernetes.io/component: {}
          f:app.kubernetes.io/instance: {}
          f:app.kubernetes.io/managed-by: {}
          f:app.kubernetes.io/name: {}
          f:app.kubernetes.io/part-of: {}
          f:app.kubernetes.io/version: {}
          f:helm.sh/chart: {}
      f:spec:
        f:revisionHistoryLimit: {}
        f:selector: {}
        f:template:
          f:metadata:
            f:labels:
              .: {}
              f:app.kubernetes.io/component: {}
              f:app.kubernetes.io/instance: {}
              f:app.kubernetes.io/managed-by: {}
              f:app.kubernetes.io/name: {}
              f:app.kubernetes.io/part-of: {}
              f:app.kubernetes.io/version: {}
              f:helm.sh/chart: {}
          f:spec:
            f:containers:
              k:{"name":"keepalived"}:
                .: {}
                f:image: {}
                f:imagePullPolicy: {}
                f:name: {}
                f:resources: {}
                f:securityContext:
                  .: {}
                  f:capabilities:
                    .: {}
                    f:add: {}
                  f:runAsGroup: {}
                  f:runAsUser: {}
                f:terminationMessagePath: {}
                f:terminationMessagePolicy: {}
                f:volumeMounts:
                  .: {}
                  k:{"mountPath":"/check_mongo.sh"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/etc/keepalived/keepalived.conf"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/notify_license_manager.sh"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
            f:dnsPolicy: {}
            f:enableServiceLinks: {}
            f:hostNetwork: {}
            f:restartPolicy: {}
            f:schedulerName: {}
            f:securityContext: {}
            f:terminationGracePeriodSeconds: {}
            f:volumes:
              .: {}
              k:{"name":"config"}:
                .: {}
                f:configMap:
                  .: {}
                  f:defaultMode: {}
                  f:name: {}
                f:name: {}
              k:{"name":"scripts"}:
                .: {}
                f:configMap:
                  .: {}
                  f:defaultMode: {}
                  f:name: {}
                f:name: {}
        f:updateStrategy:
          f:rollingUpdate:
            .: {}
            f:maxSurge: {}
            f:maxUnavailable: {}
          f:type: {}
    manager: helm
    operation: Update
    time: '2023-12-14T06:56:50Z'
  - apiVersion: apps/v1
    fieldsType: FieldsV1
    fieldsV1:
      f:status:
        f:currentNumberScheduled: {}
        f:desiredNumberScheduled: {}
        f:numberAvailable: {}
        f:numberMisscheduled: {}
        f:numberReady: {}
        f:observedGeneration: {}
        f:updatedNumberScheduled: {}
    manager: k3s
    operation: Update
    subresource: status
    time: '2024-02-01T20:58:45Z'
  name: keepalived
  namespace: mediakind
  resourceVersion: '7867230'
  uid: d136f3a0-51ae-4e8b-bee5-aae8d4073112
spec:
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      app.kubernetes.io/instance: keepalived
      app.kubernetes.io/name: keepalived
  template:
    metadata:
      creationTimestamp: null
      labels:
        app.kubernetes.io/component: keepalived
        app.kubernetes.io/instance: keepalived
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: keepalived
        app.kubernetes.io/part-of: mkc
        app.kubernetes.io/version: 1.18.0
        helm.sh/chart: keepalived-1.18.0
    spec:
      containers:
      - image: packages.mediakind.com/mpd-docker/mediakind/keepalived:1.18.0
        imagePullPolicy: IfNotPresent
        name: keepalived
        resources: {}
        securityContext:
          capabilities:
            add:
            - NET_ADMIN
            - NET_RAW
          runAsGroup: 0
          runAsUser: 0
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        volumeMounts:
        - mountPath: /etc/keepalived/keepalived.conf
          name: config
          subPath: keepalived.conf
        - mountPath: /notify_license_manager.sh
          name: scripts
          subPath: notify_license_manager.sh
        - mountPath: /check_mongo.sh
          name: scripts
          subPath: check_mongo.sh
      dnsPolicy: ClusterFirst
      enableServiceLinks: false
      hostNetwork: true
      restartPolicy: Always
      schedulerName: default-scheduler
      securityContext: {}
      terminationGracePeriodSeconds: 10
      volumes:
      - configMap:
          defaultMode: 420
          name: keepalived-config
        name: config
      - configMap:
          defaultMode: 320
          name: keepalived-scripts
        name: scripts
  updateStrategy:
    rollingUpdate:
      maxSurge: 0
      maxUnavailable: 1
    type: RollingUpdate
status:
  currentNumberScheduled: 1
  desiredNumberScheduled: 1
  numberAvailable: 1
  numberMisscheduled: 0
  numberReady: 1
  observedGeneration: 1
  updatedNumberScheduled: 1
