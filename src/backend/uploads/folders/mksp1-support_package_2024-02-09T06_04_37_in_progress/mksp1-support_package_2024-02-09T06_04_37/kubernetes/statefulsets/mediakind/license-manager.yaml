i:0.94.2
        imagePullPolicy: IfNotPresent
        name: license-manager-init
        resources: {}
        securityContext:
          allowPrivilegeEscalation: false
          runAsUser: 2
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        volumeMounts:
        - mountPath: /opt/ericsson/license-manager/etc/envoy-config
          name: envoy-config
        - mountPath: /opt/ericsson/license-manager/etc/envoy-template/cds_template.yaml
          name: config
          subPath: cds_template.yaml
        - mountPath: /opt/ericsson/license-manager/etc/envoy-template/lds_template.yaml
          name: config
          subPath: lds_template.yaml
        - mountPath: /opt/ericsson/license-manager/etc/license-manager.ini
          name: config
          subPath: license-manager.ini
        - mountPath: /opt/ericsson/license-manager/etc/logging.json
          name: config
          subPath: logging.json
      restartPolicy: Always
      schedulerName: default-scheduler
      securityContext:
        fsGroup: 2
      terminationGracePeriodSeconds: 30
      volumes:
      - emptyDir: {}
        name: probe-volume
      - emptyDir: {}
        name: envoy-config
      - configMap:
          defaultMode: 420
          name: license-manager-config
        name: config
      - configMap:
          defaultMode: 420
          name: license-manager-locking
        name: locking-code
  updateStrategy:
    rollingUpdate:
      partition: 0
    type: RollingUpdate
status:
  availableReplicas: 1
  collisionCount: 0
  currentReplicas: 1
  currentRevision: license-manager-55db486864
  observedGeneration: 1
  readyReplicas: 1
  replicas: 1
  updateRevision: license-manager-55db486864
  updatedReplicas: 1
metadata:
  annotations:
    meta.helm.sh/release-name: mkc
    meta.helm.sh/release-namespace: mediakind
  creationTimestamp: '2023-12-14T10:09:17Z'
  generation: 1
  labels:
    app.kubernetes.io/component: license-manager
    app.kubernetes.io/instance: mkc
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: license-manager
    app.kubernetes.io/part-of: mkc
    app.kubernetes.io/version: 0.94.2
    helm.sh/chart: license-manager-0.94.2
  managedFields:
  - apiVersion: apps/v1
    fieldsType: FieldsV1
    fieldsV1:
      f:metadata:
        f:annotations:
          .: {}
          f:meta.helm.sh/release-name: {}
          f:meta.helm.sh/release-namespace: {}
        f:labels:
          .: {}
          f:app.kubernetes.io/component: {}
          f:app.kubernetes.io/instance: {}
          f:app.kubernetes.io/managed-by: {}
          f:app.kubernetes.io/name: {}
          f:app.kubernetes.io/part-of: {}
          f:app.kubernetes.io/version: {}
          f:helm.sh/chart: {}
      f:spec:
        f:podManagementPolicy: {}
        f:replicas: {}
        f:revisionHistoryLimit: {}
        f:selector: {}
        f:serviceName: {}
        f:template:
          f:metadata:
            f:labels:
              .: {}
              f:app.kubernetes.io/component: {}
              f:app.kubernetes.io/instance: {}
              f:app.kubernetes.io/managed-by: {}
              f:app.kubernetes.io/name: {}
              f:app.kubernetes.io/part-of: {}
              f:app.kubernetes.io/version: {}
              f:helm.sh/chart: {}
          f:spec:
            f:containers:
              k:{"name":"license-manager-api"}:
                .: {}
                f:args: {}
                f:image: {}
                f:imagePullPolicy: {}
                f:livenessProbe:
                  .: {}
                  f:failureThreshold: {}
                  f:httpGet:
                    .: {}
                    f:path: {}
                    f:port: {}
                    f:scheme: {}
                  f:initialDelaySeconds: {}
                  f:periodSeconds: {}
                  f:successThreshold: {}
                  f:timeoutSeconds: {}
                f:name: {}
                f:ports:
                  .: {}
                  k:{"containerPort":8097,"protocol":"TCP"}:
                    .: {}
                    f:containerPort: {}
                    f:hostPort: {}
                    f:name: {}
                    f:protocol: {}
                f:readinessProbe:
                  .: {}
                  f:failureThreshold: {}
                  f:httpGet:
                    .: {}
                    f:path: {}
                    f:port: {}
                    f:scheme: {}
                  f:initialDelaySeconds: {}
                  f:periodSeconds: {}
                  f:successThreshold: {}
                  f:timeoutSeconds: {}
                f:resources: {}
                f:securityContext:
                  .: {}
                  f:allowPrivilegeEscalation: {}
                  f:privileged: {}
                  f:runAsGroup: {}
                  f:runAsUser: {}
                f:terminationMessagePath: {}
                f:terminationMessagePolicy: {}
                f:volumeMounts:
                  .: {}
                  k:{"mountPath":"/opt/ericsson/license-manager/etc/envoy-config"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                  k:{"mountPath":"/opt/ericsson/license-manager/etc/envoy-template/cds_template.yaml"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/opt/ericsson/license-manager/etc/license-manager.ini"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/opt/ericsson/license-manager/etc/logging.json"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
              k:{"name":"license-manager-lserv"}:
                .: {}
                f:image: {}
                f:imagePullPolicy: {}
                f:name: {}
                f:ports:
                  .: {}
                  k:{"containerPort":5093,"protocol":"TCP"}:
                    .: {}
                    f:containerPort: {}
                    f:hostPort: {}
                    f:name: {}
                    f:protocol: {}
                f:readinessProbe:
                  .: {}
                  f:exec:
                    .: {}
                    f:command: {}
                  f:failureThreshold: {}
                  f:initialDelaySeconds: {}
                  f:periodSeconds: {}
                  f:successThreshold: {}
                  f:timeoutSeconds: {}
                f:resources: {}
                f:securityContext:
                  .: {}
                  f:allowPrivilegeEscalation: {}
                  f:privileged: {}
                  f:runAsGroup: {}
                  f:runAsUser: {}
                f:terminationMessagePath: {}
                f:terminationMessagePolicy: {}
                f:volumeMounts:
                  .: {}
                  k:{"mountPath":"/opt/ericsson/license-manager/bin/echoid.dat"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
              k:{"name":"license-manager-proxy"}:
                .: {}
                f:args: {}
                f:command: {}
                f:image: {}
                f:imagePullPolicy: {}
                f:livenessProbe:
                  .: {}
                  f:failureThreshold: {}
                  f:httpGet:
                    .: {}
                    f:path: {}
                    f:port: {}
                    f:scheme: {}
                  f:initialDelaySeconds: {}
                  f:periodSeconds: {}
                  f:successThreshold: {}
                  f:timeoutSeconds: {}
                f:name: {}
                f:ports:
                  .: {}
                  k:{"containerPort":5092,"protocol":"UDP"}:
                    .: {}
                    f:containerPort: {}
                    f:hostPort: {}
                    f:name: {}
                    f:protocol: {}
                  k:{"containerPort":9901,"protocol":"TCP"}:
                    .: {}
                    f:containerPort: {}
                    f:hostPort: {}
                    f:name: {}
                    f:protocol: {}
                f:readinessProbe:
                  .: {}
                  f:failureThreshold: {}
                  f:httpGet:
                    .: {}
                    f:path: {}
                    f:port: {}
                    f:scheme: {}
                  f:initialDelaySeconds: {}
                  f:periodSeconds: {}
                  f:successThreshold: {}
                  f:timeoutSeconds: {}
                f:resources: {}
                f:securityContext:
                  .: {}
                  f:allowPrivilegeEscalation: {}
                  f:runAsUser: {}
                f:terminationMessagePath: {}
                f:terminationMessagePolicy: {}
                f:volumeMounts:
                  .: {}
                  k:{"mountPath":"/etc/envoy/envoy_config.yaml"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/etc/envoy/runtime-config"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
            f:dnsPolicy: {}
            f:enableServiceLinks: {}
            f:hostNetwork: {}
            f:initContainers:
              .: {}
              k:{"name":"license-manager-init"}:
                .: {}
                f:args: {}
                f:image: {}
                f:imagePullPolicy: {}
                f:name: {}
                f:resources: {}
                f:securityContext:
                  .: {}
                  f:allowPrivilegeEscalation: {}
                  f:runAsUser: {}
                f:terminationMessagePath: {}
                f:terminationMessagePolicy: {}
                f:volumeMounts:
                  .: {}
                  k:{"mountPath":"/opt/ericsson/license-manager/etc/envoy-config"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                  k:{"mountPath":"/opt/ericsson/license-manager/etc/envoy-template/cds_template.yaml"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/opt/ericsson/license-manager/etc/envoy-template/lds_template.yaml"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/opt/ericsson/license-manager/etc/license-manager.ini"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/opt/ericsson/license-manager/etc/logging.json"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
            f:restartPolicy: {}
            f:schedulerName: {}
            f:securityContext:
              .: {}
              f:fsGroup: {}
            f:terminationGracePeriodSeconds: {}
            f:volumes:
              .: {}
              k:{"name":"config"}:
                .: {}
                f:configMap:
                  .: {}
                  f:defaultMode: {}
                  f:name: {}
                f:name: {}
              k:{"name":"envoy-config"}:
                .: {}
                f:emptyDir: {}
                f:name: {}
              k:{"name":"locking-code"}:
                .: {}
                f:configMap:
                  .: {}
                  f:defaultMode: {}
                  f:name: {}
                f:name: {}
              k:{"name":"probe-volume"}:
                .: {}
                f:emptyDir: {}
                f:name: {}
        f:updateStrategy:
          f:rollingUpdate:
            .: {}
            f:partition: {}
          f:type: {}
    manager: helm
    operation: Update
    time: '2023-12-14T10:09:17Z'
  - apiVersion: apps/v1
    fieldsType: FieldsV1
    fieldsV1:
      f:status:
        f:availableReplicas: {}
        f:collisionCount: {}
        f:currentReplicas: {}
        f:currentRevision: {}
        f:observedGeneration: {}
        f:readyReplicas: {}
        f:replicas: {}
        f:updateRevision: {}
        f:updatedReplicas: {}
    manager: k3s
    operation: Update
    subresource: status
    time: '2024-02-06T13:29:17Z'
  name: license-manager
  namespace: mediakind
  resourceVersion: '8615305'
  uid: b597636d-e167-4b13-bf2f-ef155c260a0b
spec:
  podManagementPolicy: OrderedReady
  replicas: 1
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      app.kubernetes.io/instance: mkc
      app.kubernetes.io/name: license-manager
  serviceName: license-manager-headless
  template:
    metadata:
      creationTimestamp: null
      labels:
        app.kubernetes.io/component: license-manager
        app.kubernetes.io/instance: mkc
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: license-manager
        app.kubernetes.io/part-of: mkc
        app.kubernetes.io/version: 0.94.2
        helm.sh/chart: license-manager-0.94.2
    spec:
      containers:
      - args:
        - -c
        - while true; do /usr/local/bin/envoy -c /etc/envoy/envoy_config.yaml; done
        command:
        - /bin/bash
        image: packages.mediakind.com/mpd-docker/envoyproxy/envoy:v1.18.3
        imagePullPolicy: IfNotPresent
        livenessProbe:
          failureThreshold: 3
          httpGet:
            path: /
            port: envoy-admin
            scheme: HTTP
          initialDelaySeconds: 30
          periodSeconds: 10
          successThreshold: 1
          timeoutSeconds: 1
        name: license-manager-proxy
        ports:
        - containerPort: 5092
          hostPort: 5092
          name: envoy-proxy
          protocol: UDP
        - containerPort: 9901
          hostPort: 9901
          name: envoy-admin
          protocol: TCP
        readinessProbe:
          failureThreshold: 3
          httpGet:
            path: /ready
            port: envoy-admin
            scheme: HTTP
          initialDelaySeconds: 5
          periodSeconds: 10
          successThreshold: 1
          timeoutSeconds: 1
        resources: {}
        securityContext:
          allowPrivilegeEscalation: false
          runAsUser: 2
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        volumeMounts:
        - mountPath: /etc/envoy/envoy_config.yaml
          name: config
          subPath: envoy_config.yaml
        - mountPath: /etc/envoy/runtime-config
          name: envoy-config
      - args:
        - /src/ericsson/license/api/app.py
        - --conf
        - /opt/ericsson/license-manager/etc/license-manager.ini
        - --log
        - /opt/ericsson/license-manager/etc/logging.json
        image: packages.mediakind.com/mpd-docker/mediakind/license-manager-api:0.94.2
        imagePullPolicy: IfNotPresent
        livenessProbe:
          failureThreshold: 3
          httpGet:
            path: /api/liveness
            port: restapi
            scheme: HTTP
          initialDelaySeconds: 30
          periodSeconds: 10
          successThreshold: 1
          timeoutSeconds: 3
        name: license-manager-api
        ports:
        - containerPort: 8097
          hostPort: 8097
          name: restapi
          protocol: TCP
        readinessProbe:
          failureThreshold: 3
          httpGet:
            path: /api/readiness
            port: restapi
            scheme: HTTP
          initialDelaySeconds: 20
          periodSeconds: 10
          successThreshold: 1
          timeoutSeconds: 3
        resources: {}
        securityContext:
          allowPrivilegeEscalation: true
          privileged: true
          runAsGroup: 0
          runAsUser: 0
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        volumeMounts:
        - mountPath: /opt/ericsson/license-manager/etc/envoy-config
          name: envoy-config
        - mountPath: /opt/ericsson/license-manager/etc/envoy-template/cds_template.yaml
          name: config
          subPath: cds_template.yaml
        - mountPath: /opt/ericsson/license-manager/etc/license-manager.ini
          name: config
          subPath: license-manager.ini
        - mountPath: /opt/ericsson/license-manager/etc/logging.json
          name: config
          subPath: logging.json
      - image: packages.mediakind.com/mpd-docker/mediakind/license-manager-lserv:0.94.2
        imagePullPolicy: IfNotPresent
        name: license-manager-lserv
        ports:
        - containerPort: 5093
          hostPort: 5093
          name: lserv
          protocol: TCP
        readinessProbe:
          exec:
            command:
            - pgrep
            - lserv
          failureThreshold: 3
          initialDelaySeconds: 20
          periodSeconds: 5
          successThreshold: 1
          timeoutSeconds: 1
        resources: {}
        securityContext:
          allowPrivilegeEscalation: true
          privileged: true
          runAsGroup: 0
          runAsUser: 0
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        volumeMounts:
        - mountPath: /opt/ericsson/license-manager/bin/echoid.dat
          name: locking-code
          subPath: echoid.dat
      dnsPolicy: ClusterFirstWithHostNet
      enableServiceLinks: false
      hostNetwork: true
      initContainers:
      - args:
        - /src/ericsson/license/api/app.py
        - --conf
        - /opt/ericsson/license-manager/etc/license-manager.ini
        - --log
        - /opt/ericsson/license-manager/etc/logging.json
        - --init
        image: packages.mediakind.com/mpd-docker/mediakind/license-manager-ap