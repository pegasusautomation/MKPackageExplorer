/etc/secret_key`; exec ${CELERY_BIN}
          -A $(CELERY_APP) worker --loglevel $(CELERYD_LOG_LEVEL) $(CELERYD_OPTS)
        command:
        - /bin/sh
        - -c
        env:
        - name: DJANGO_SETTINGS_MODULE
          value: envivio.unified.ui.settings
        - name: UNIFIED_UI_CONFIG
          value: /opt/ericsson/unified-ui/etc/unified-ui.ini
        - name: STATICFILES_STORAGE
          value: django.contrib.staticfiles.storage.StaticFilesStorage
        - name: CELERY_APP
          value: envivio.unified.ui
        - name: CELERYD_NODES
          value: ericssonuiworker1
        - name: CELERYD_OPTS
          value: -Ofair
        - name: CELERY_BIN
          value: /usr/local/bin/celery
        - name: CELERYD_LOG_LEVEL
          value: INFO
        - name: CELERYD_LOG_FILE
          value: /dev/stdout
        - name: CELERYD_TASK_SOFT_TIME_LIMIT
          value: '3300'
        - name: CELERYD_TASK_TIME_LIMIT
          value: '3600'
        - name: CELERYD_MAX_TASKS_PER_CHILD
          value: '1'
        - name: CELERY_RESULT_BACKEND
          value: rpc://
        - name: GATEWAY
          value: http://api-gateway:8080
        image: packages.mediakind.com/mpd-docker/mediakind/unified-ui:1.189.17
        imagePullPolicy: IfNotPresent
        name: celery
        resources: {}
        securityContext:
          allowPrivilegeEscalation: false
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        volumeMounts:
        - mountPath: /tmp
          name: ui-tmp
        - mountPath: /dumps
          name: backup-dir
        - mountPath: /etc/pki/authentication/private/authentication.key
          name: api-certificate
          subPath: tls.key
        - mountPath: /etc/pki/authentication/certs/authentication.crt
          name: api-certificate
          subPath: tls.crt
        - mountPath: /opt/ericsson/unified-ui/etc/unified-ui.ini
          name: ui-config
          subPath: unified-ui.ini
        - mountPath: /opt/ericsson/unified-ui/etc/secret_key
          name: ui-config
          subPath: secret_key
        - mountPath: /src/envivio/unified/ui/settings/logging.json
          name: ui-config
          subPath: logging.json
      - args:
        - export SECRET_KEY=`cat /opt/ericsson/unified-ui/etc/secret_key`; exec ${CELERY_BIN}
          -A $(CELERY_APP) beat --loglevel $(CELERYBEAT_LOG_LEVEL) --pidfile=
        command:
        - /bin/sh
        - -c
        env:
        - name: DJANGO_SETTINGS_MODULE
          value: envivio.unified.ui.settings
        - name: UNIFIED_UI_CONFIG
          value: /opt/ericsson/unified-ui/etc/unified-ui.ini
        - name: STATICFILES_STORAGE
          value: django.contrib.staticfiles.storage.StaticFilesStorage
        - name: CELERY_APP
          value: envivio.unified.ui
        - name: CELERY_BIN
          value: usr/local/bin/celery
        - name: CELERYBEAT_LOG_LEVEL
          value: INFO
        - name: CELERYBEAT_LOG_FILE
          value: /dev/stdout
        image: packages.mediakind.com/mpd-docker/mediakind/unified-ui:1.189.17
        imagePullPolicy: IfNotPresent
        name: celerybeat
        resources: {}
        securityContext:
          allowPrivilegeEscalation: false
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        volumeMounts:
        - mountPath: /tmp
          name: ui-tmp
        - mountPath: /etc/pki/authentication/private/authentication.key
          name: api-certificate
          subPath: tls.key
        - mountPath: /etc/pki/authentication/certs/authentication.crt
          name: api-certificate
          subPath: tls.crt
        - mountPath: /opt/ericsson/unified-ui/etc/unified-ui.ini
          name: ui-config
          subPath: unified-ui.ini
        - mountPath: /opt/ericsson/unified-ui/etc/secret_key
          name: ui-config
          subPath: secret_key
        - mountPath: /src/envivio/unified/ui/settings/logging.json
          name: ui-config
          subPath: logging.json
      - env:
        - name: DJANGO_SETTINGS_MODULE
          value: envivio.unified.ui.settings
        - name: UNIFIED_UI_CONFIG
          value: /opt/ericsson/unified-ui/etc/unified-ui.ini
        - name: UWSGI_STATS
          value: 'false'
        - name: STATICFILES_STORAGE
          value: django.contrib.staticfiles.storage.StaticFilesStorage
        - name: LICENSEMANAGER_SERVER_PORT
          value: '8097'
        - name: GATEWAY
          value: http://api-gateway:8080
        image: packages.mediakind.com/mpd-docker/mediakind/unified-ui:1.189.17
        imagePullPolicy: IfNotPresent
        livenessProbe:
          failureThreshold: 3
          httpGet:
            path: /api/liveness
            port: ui
            scheme: HTTP
          initialDelaySeconds: 30
          periodSeconds: 10
          successThreshold: 1
          timeoutSeconds: 3
        name: ui
        ports:
        - containerPort: 8888
          name: ui
          protocol: TCP
        - containerPort: 8889
          name: websocket
          protocol: TCP
        readinessProbe:
          failureThreshold: 3
          httpGet:
            path: /api/readiness
            port: ui
            scheme: HTTP
          initialDelaySeconds: 5
          periodSeconds: 10
          successThreshold: 1
          timeoutSeconds: 1
        resources: {}
        securityContext:
          allowPrivilegeEscalation: false
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        volumeMounts:
        - mountPath: /dev/shm
          name: ui-dev-shm
        - mountPath: /tmp
          name: ui-tmp
        - mountPath: /dumps
          name: backup-dir
        - mountPath: /etc/pki/ca-trust/extracted/pem/
          name: ldap-root-ca
        - mountPath: /etc/pki/authentication/private/authentication.key
          name: api-certificate
          subPath: tls.key
        - mountPath: /etc/pki/authentication/certs/authentication.crt
          name: api-certificate
          subPath: tls.crt
        - mountPath: /opt/ericsson/unified-ui/etc/unified-ui.ini
          name: ui-config
          subPath: unified-ui.ini
        - mountPath: /opt/ericsson/unified-ui/etc/secret_key
          name: ui-config
          subPath: secret_key
        - mountPath: /src/envivio/unified/ui/settings/logging.json
          name: ui-config
          subPath: logging.json
        - mountPath: /opt/ericsson/unified-ui/etc/uwsgi.ini
          name: ui-config
          subPath: uwsgi.ini
      dnsPolicy: ClusterFirst
      enableServiceLinks: false
      hostAliases:
      - hostnames:
        - ldaps.resolution.server
        ip: 127.0.0.1
      priorityClassName: controller-high-priority
      restartPolicy: Always
      schedulerName: default-scheduler
      securityContext:
        fsGroup: 2
        runAsUser: 2
      terminationGracePeriodSeconds: 0
      volumes:
      - emptyDir:
          medium: Memory
          sizeLimit: 128Mi
        name: ui-dev-shm
      - emptyDir:
          medium: Memory
          sizeLimit: 8Mi
        name: ui-tmp
      - hostPath:
          path: /etc/pki/ca-trust/extracted/pem/
          type: Directory
        name: ldap-root-ca
      - hostPath:
          path: /var/opt/mediakind/unified-ui/dumps
          type: Directory
        name: backup-dir
      - name: api-certificate
        secret:
          defaultMode: 420
          secretName: unified-ui-cert-auth
      - name: tls-certificate
        secret:
          defaultMode: 420
          secretName: unified-ui-cert-tls
      - configMap:
          defaultMode: 420
          name: unified-ui-config
        name: ui-config
      - emptyDir: {}
        name: probe-volume
status:
  availableReplicas: 1
  fullyLabeledReplicas: 1
  observedGeneration: 1
  readyReplicas: 1
  replicas: 1
metadata:
  annotations:
    deployment.kubernetes.io/desired-replicas: '1'
    deployment.kubernetes.io/max-replicas: '1'
    deployment.kubernetes.io/revision: '1'
    meta.helm.sh/release-name: mkc
    meta.helm.sh/release-namespace: mediakind
  creationTimestamp: '2023-12-14T10:09:19Z'
  generation: 1
  labels:
    app.kubernetes.io/component: unified-ui
    app.kubernetes.io/instance: mkc
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: unified-ui
    app.kubernetes.io/part-of: mkc
    app.kubernetes.io/version: 1.189.17
    helm.sh/chart: unified-ui-1.189.17
    pod-template-hash: 55796949fc
  managedFields:
  - apiVersion: apps/v1
    fieldsType: FieldsV1
    fieldsV1:
      f:metadata:
        f:annotations:
          .: {}
          f:deployment.kubernetes.io/desired-replicas: {}
          f:deployment.kubernetes.io/max-replicas: {}
          f:deployment.kubernetes.io/revision: {}
          f:meta.helm.sh/release-name: {}
          f:meta.helm.sh/release-namespace: {}
        f:labels:
          .: {}
          f:app.kubernetes.io/component: {}
          f:app.kubernetes.io/instance: {}
          f:app.kubernetes.io/managed-by: {}
          f:app.kubernetes.io/name: {}
          f:app.kubernetes.io/part-of: {}
          f:app.kubernetes.io/version: {}
          f:helm.sh/chart: {}
          f:pod-template-hash: {}
        f:ownerReferences:
          .: {}
          k:{"uid":"0c058a2f-31b4-46fc-9726-ed50a9982992"}: {}
      f:spec:
        f:replicas: {}
        f:selector: {}
        f:template:
          f:metadata:
            f:labels:
              .: {}
              f:app.kubernetes.io/component: {}
              f:app.kubernetes.io/instance: {}
              f:app.kubernetes.io/managed-by: {}
              f:app.kubernetes.io/name: {}
              f:app.kubernetes.io/part-of: {}
              f:app.kubernetes.io/version: {}
              f:helm.sh/chart: {}
              f:pod-template-hash: {}
          f:spec:
            f:containers:
              k:{"name":"celery"}:
                .: {}
                f:args: {}
                f:command: {}
                f:env:
                  .: {}
                  k:{"name":"CELERYD_LOG_FILE"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"CELERYD_LOG_LEVEL"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"CELERYD_MAX_TASKS_PER_CHILD"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"CELERYD_NODES"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"CELERYD_OPTS"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"CELERYD_TASK_SOFT_TIME_LIMIT"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"CELERYD_TASK_TIME_LIMIT"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"CELERY_APP"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"CELERY_BIN"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"CELERY_RESULT_BACKEND"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"DJANGO_SETTINGS_MODULE"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"GATEWAY"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"STATICFILES_STORAGE"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"UNIFIED_UI_CONFIG"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                f:image: {}
                f:imagePullPolicy: {}
                f:name: {}
                f:resources: {}
                f:securityContext:
                  .: {}
                  f:allowPrivilegeEscalation: {}
                f:terminationMessagePath: {}
                f:terminationMessagePolicy: {}
                f:volumeMounts:
                  .: {}
                  k:{"mountPath":"/dumps"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                  k:{"mountPath":"/etc/pki/authentication/certs/authentication.crt"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/etc/pki/authentication/private/authentication.key"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/opt/ericsson/unified-ui/etc/secret_key"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/opt/ericsson/unified-ui/etc/unified-ui.ini"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/src/envivio/unified/ui/settings/logging.json"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/tmp"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
              k:{"name":"celerybeat"}:
                .: {}
                f:args: {}
                f:command: {}
                f:env:
                  .: {}
                  k:{"name":"CELERYBEAT_LOG_FILE"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"CELERYBEAT_LOG_LEVEL"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"CELERY_APP"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"CELERY_BIN"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"DJANGO_SETTINGS_MODULE"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"STATICFILES_STORAGE"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"UNIFIED_UI_CONFIG"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                f:image: {}
                f:imagePullPolicy: {}
                f:name: {}
                f:resources: {}
                f:securityContext:
                  .: {}
                  f:allowPrivilegeEscalation: {}
                f:terminationMessagePath: {}
                f:terminationMessagePolicy: {}
                f:volumeMounts:
                  .: {}
                  k:{"mountPath":"/etc/pki/authentication/certs/authentication.crt"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/etc/pki/authentication/private/authentication.key"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/opt/ericsson/unified-ui/etc/secret_key"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/opt/ericsson/unified-ui/etc/unified-ui.ini"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/src/envivio/unified/ui/settings/logging.json"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/tmp"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
              k:{"name":"ui"}:
                .: {}
                f:env:
                  .: {}
                  k:{"name":"DJANGO_SETTINGS_MODULE"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"GATEWAY"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"LICENSEMANAGER_SERVER_PORT"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"STATICFILES_STORAGE"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"UNIFIED_UI_CONFIG"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                  k:{"name":"UWSGI_STATS"}:
                    .: {}
                    f:name: {}
                    f:value: {}
                f:image: {}
                f:imagePullPolicy: {}
                f:livenessProbe:
                  .: {}
                  f:failureThreshold: {}
                  f:httpGet:
                    .: {}
                    f:path: {}
                    f:port: {}
                    f:scheme: {}
                  f:initialDelaySeconds: {}
                  f:periodSeconds: {}
                  f:successThreshold: {}
                  f:timeoutSeconds: {}
                f:name: {}
                f:ports:
                  .: {}
                  k:{"containerPort":8888,"protocol":"TCP"}:
                    .: {}
                    f:containerPort: {}
                    f:name: {}
                    f:protocol: {}
                  k:{"containerPort":8889,"protocol":"TCP"}:
                    .: {}
                    f:containerPort: {}
                    f:name: {}
                    f:protocol: {}
                f:readinessProbe:
                  .: {}
                  f:failureThreshold: {}
                  f:httpGet:
                    .: {}
                    f:path: {}
                    f:port: {}
                    f:scheme: {}
                  f:initialDelaySeconds: {}
                  f:periodSeconds: {}
                  f:successThreshold: {}
                  f:timeoutSeconds: {}
                f:resources: {}
                f:securityContext:
                  .: {}
                  f:allowPrivilegeEscalation: {}
                f:terminationMessagePath: {}
                f:terminationMessagePolicy: {}
                f:volumeMounts:
                  .: {}
                  k:{"mountPath":"/dev/shm"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                  k:{"mountPath":"/dumps"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                  k:{"mountPath":"/etc/pki/authentication/certs/authentication.crt"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/etc/pki/authentication/private/authentication.key"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/etc/pki/ca-trust/extracted/pem/"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                  k:{"mountPath":"/opt/ericsson/unified-ui/etc/secret_key"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/opt/ericsson/unified-ui/etc/unified-ui.ini"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/opt/ericsson/unified-ui/etc/uwsgi.ini"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/src/envivio/unified/ui/settings/logging.json"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
                    f:subPath: {}
                  k:{"mountPath":"/tmp"}:
                    .: {}
                    f:mountPath: {}
                    f:name: {}
            f:dnsPolicy: {}
            f:enableServiceLinks: {}
            f:hostAliases:
              .: {}
              k:{"ip":"127.0.0.1"}:
                .: {}
                f:hostnames: {}
                f:ip: {}
            f:priorityClassName: {}
            f:restartPolicy: {}
            f:schedulerName: {}
            f:securityContext:
              .: {}
              f:fsGroup: {}
              f:runAsUser: {}
            f:terminationGracePeriodSeconds: {}
            f:volumes:
              .: {}
              k:{"name":"api-certificate"}:
                .: {}
                f:name: {}
                f:secret:
                  .: {}
                  f:defaultMode: {}
                  f:secretName: {}
              k:{"name":"backup-dir"}:
                .: {}
                f:hostPath:
                  .: {}
                  f:path: {}
                  f:type: {}
                f:name: {}
              k:{"name":"ldap-root-ca"}:
                .: {}
                f:hostPath:
                  .: {}
                  f:path: {}
                  f:type: {}
                f:name: {}
              k:{"name":"probe-volume"}:
                .: {}
                f:emptyDir: {}
                f:name: {}
              k:{"name":"tls-certificate"}:
                .: {}
                f:name: {}
                f:secret:
                  .: {}
                  f:defaultMode: {}
                  f:secretName: {}
              k:{"name":"ui-config"}:
                .: {}
                f:configMap:
                  .: {}
                  f:defaultMode: {}
                  f:name: {}
                f:name: {}
              k:{"name":"ui-dev-shm"}:
                .: {}
                f:emptyDir:
                  .: {}
                  f:medium: {}
                  f:sizeLimit: {}
                f:name: {}
              k:{"name":"ui-tmp"}:
                .: {}
                f:emptyDir:
                  .: {}
                  f:medium: {}
                  f:sizeLimit: {}
                f:name: {}
    manager: k3s
    operation: Update
    time: '2023-12-14T10:09:19Z'
  - apiVersion: apps/v1
    fieldsType: FieldsV1
    fieldsV1:
      f:status:
        f:availableReplicas: {}
        f:fullyLabeledReplicas: {}
        f:observedGeneration: {}
        f:readyReplicas: {}
        f:replicas: {}
    manager: k3s
    operation: Update
    subresource: status
    time: '2024-02-06T13:29:52Z'
  name: unified-ui-55796949fc
  namespace: mediakind
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: Deployment
    name: unified-ui
    uid: 0c058a2f-31b4-46fc-9726-ed50a9982992
  resourceVersion: '8615502'
  uid: d11dcec5-6119-4c11-8c56-b850c4a0207c
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/instance: mkc
      app.kubernetes.io/name: unified-ui
      pod-template-hash: 55796949fc
  template:
    metadata:
      creationTimestamp: null
      labels:
        app.kubernetes.io/component: unified-ui
        app.kubernetes.io/instance: mkc
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: unified-ui
        app.kubernetes.io/part-of: mkc
        app.kubernetes.io/version: 1.189.17
        helm.sh/chart: unified-ui-1.189.17
        pod-template-hash: 55796949fc
    spec:
      containers:
      - args:
        - export SECRET_KEY=`cat /opt/ericsson/unified-ui